= ðŸ¦€ Rust GCP K8S Micro-server

This is a simple Rust web server mock meant for running inside a GKE cluster with Stackdriver log formatting for demo purposes.

== Quickstart
* Install Rust (`>= 1.39.0`)

* Create an environment variables file `.envrc` with the following content
[source,sh]
----
export RUST_LOG=info
export SERVICE_PORT=8080
export SERVICE_HEALTH_PORT=8181
export SERVICE_NAME=rust-server
export SERVICE_VERSION=Î±
----

* Source the environment file
[source,bash]
----
# If using direnv(https://direnv.net/), allow the environment file for it to be loaded every time you cd in the folder
Î›\: $ direnv allow .

# Otherwise use regular sourcing every time you instanciate a new terminal
Î›\: $ source .envrc
----

* Test the server:
[source,bash]
----
Î›\: $ cargo test
----

* Start the server:
[source,bash]
----
Î›\: $ cargo run
----

* If you need to watch the server and reload on change:
[source,bash]
----
Î›\: $ cargo install cargo-watch

Î›\: $ cargo watch -x run
----
